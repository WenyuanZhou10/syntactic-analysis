## 任务

设计一个工具。将给出C语言中所有运算符进行语法分析，并给出运算结果。

要求：

1. 需要完成如下运算符的语法分析。

| 算术运算符 | **+   - \* /   % ++ --**   |
| ---------- | -------------------------- |
| 关系运算符 | **<   <=  ==  >   >=  !=** |
| 逻辑运算符 | ！ &&   \|\|               |
| 位运算符   | <<  >>   ~ \| ^   &        |
| 赋值运算符 | = 及其扩展（+= -= 等）     |
| 条件运算符 | ?:                         |
| 逗号运算符 | ，                         |
| 下标运算符 | []                         |

2. 定义上述表达式的文法。

3. 给出语法分析过程。

4. 给定任何1个表达式，如“a=2+5”，或者“int a=10, b=20, c; c=a<40? a+b:a-b; ”

## 实现

### 文法描述

1. 终结符号集：{A, B, C, D, E, F, G, H, I, J, K, L, M, N, O, P}

2. 非终结符号集：{ ‘,’, =, +=, -=, *=, /=, %=, :, ||, &&, !, !=, ==, <=, <, >=, >, |, ^, &, >>, <<, +, -, *, /, %, ~, ), ++, --, a, i, [, ], # }

3. 开始符号：A

4. 产生式集合：{(0)A->A,B (1)A->B (2)A->C (3)A->D (4)B->O=C (5)B->O+=C (6)B->O-=C (7)B->O*=C (8)B->O/=C (9)B->O%=C (10)C->D?C:C (11)C->H (12)D->D||E (13)D->E (14)E->E&&F (15)E->F (16)F->!F (17)F->G (18)G->H!=H (19)G->H==H (20)G->H<=H (21)G->H<H (22)G->H>=H (23)G->H>H (24)G->(D) (25)H->H|I (26)H->I (27)I->I^J (28)I->J (29)J->J&K (30)J->K (31)K->K>>L (32)K->K<<L (33)K->L (34)L->L+M (35)L->L-M (36)L->M (37)M->M*N (38)M->M/N (39)M->M%N (40)M->N (41)N->~N (42)N->-N (43)N->(A) (44)N->++O (45)N->--O (46)N->O++ (47)N->O-- (48)N->O (49)N->a (50)O->i (51)O->iP (52)P->[H]}

### 属性文法的描述

1. 非终结符的FIRSTVT和LASTVT集如下：

FIRSTVT(A)={‘,’,=,+=,-=,*=,/=,%=,?,||,&&,!,!=,==,<=,<,>=,>,|,^,&,>>,<<,+,-,*,/,%,~,(,++,--,a,i}

LASTVT(A)={‘,’,=,+=,-=,*=,/=,%=,:,||,&&,!,!=,==,<=,<,>=,>,|,^,&,>>,<<,+,-,*,/,%,~,),++,--,a,i,]}

  

FIRSTVT(B)={=,+=,-=,*=,/=,%=,i}

LASTVT(B)={=,+=,-=,*=,/=,%=,:,|,^,&,>>,<<,+,-,*,/,%,~,),++,--,a,i,]}

  

FIRSTVT(C)={?,||,&&,!,!=,==,<=,<,>=,>,|,^,&,>>,<<,+,-,*,/,%,~,(,++,--,a,i}

LASTVT(C)={:,|,^,&,>>,<<,+,-,*,/,%,~,),++,--,a,i,]}

  

FIRSTVT(D)={||,&&,!,!=,==,<=,<,>=,>,|,^,&,>>,<<,+,-,*,/,%,~,(,++,--,a,i}

LASTVT(D)={||,&&,!,!=,==,<=,<,>=,>,|,^,&,>>,<<,+,-,*,/,%,~,),++,--,a,i,]}

  

FIRSTVT(E)={&&,!,!=,==,<=,<,>=,>,|,^,&,>>,<<,+,-,*,/,%,~,(,++,--,a,i}

LASTVT(E)={&&,!,!=,==,<=,<,>=,>,|,^,&,>>,<<,+,-,*,/,%,~,),++,--,a,i,]}

 

FIRSTVT(F)={!,!=,==,<=,<,>=,>,|,^,&,>>,<<,+,-,*,/,%,~,(,++,--,a,i}

LASTVT(F)={!,!=,==,<=,<,>=,>,|,^,&,>>,<<,+,-,*,/,%,~,),++,--,a,i,]}

  

FIRSTVT(G)={!=,==,<=,<,>=,>,|,^,&,>>,<<,+,-,*,/,%,~,(,++,--,a,i}

LASTVT(G)={!=,==,<=,<,>=,>,|,^,&,>>,<<,+,-,*,/,%,~,),++,--,a,i,]}

 

FIRSTVT(H)={|,^,&,>>,<<,+,-,*,/,%,~,(,++,--,a,i}

LASTVT(H)={|,^,&,>>,<<,+,-,*,/,%,~,),++,--,a,i,]}

  

FIRSTVT(I)={^,&,>>,<<,+,-,*,/,%,~,(,++,--,a,i}

LASTVT(I)={^,&,>>,<<,+,-,*,/,%,~,),++,--,a,i,]} 

 

FIRSTVT(J)={&,>>,<<,+,-,*,/,%,~,(,++,--,a,i}

LASTVT(J)={&,>>,<<,+,-,*,/,%,~,),++,--,a,i,]}

 

FIRSTVT(K)={>>,<<,+,-,*,/,%,~,(,++,--,a,i}

LASTVT(K)={>>,<<,+,-,*,/,%,~,),++,--,a,i,]}

  

FIRSTVT(L)={+,-,*,/,%,~,(,++,--,a,i} 

LASTVT(L)={+,-,*,/,%,~,),++,--,a,i,]}

  

FIRSTVT(M)={*,/,%,~,-,(,++,--,a,i} 

LASTVT(M)={*,/,%,~,-,),++,--,a,i,]}

  

FIRSTVT(N)={~,-,(,++,--,a,i} 

LASTVT(N)={~,-,),++,--,a,i,]}

  

FIRSTVT(O)={i} 

LASTVT(O)={i,]}



FIRSTVT(P)={[} 

LASTVT(P)={]} 

2. 根据判别优先关系的规则，画出优先关系表

![Alt Text](F:\new\syntactic-analysis\images\优先关系计算规则.png)

![算符优先关系表](images\算符优先关系表.png)

## C语言的运算符优先关系表

互联网上有很多资源，这里不再重复提供。